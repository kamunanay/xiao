const readline = require('readline');
const { initialize } = require('./xiao.js');

console.log(`
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â¢›â¡›â ¿â ›â ¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â Ÿâ¡‰â£¡â¡–â ˜â¢—â£€â£€â¡€â¢¢â£â£¤â£‰â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡¿â ‰â£ â£²â£¾â¡­â£€â¢Ÿâ£©â£¶â£¶â¡¦â ˆâ£¿â£¿â£¿â£·â£–â â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â¡›â¢€â šâ¢©â â €â €â ¡â ¾â ¿â£‹â¡¥â €â£¤â ˆâ¢·â ¹â£¿â£Žâ¢³â£¶â¡˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â¡â¢€â¡¤â ‰â €â €â €â£´â †â  â ¾â ‹â â£¼â¡¿â¢°â£¸â£‡â¢¿â£¿â¡Žâ£¿â¡·â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â €â¢¸â¢§â â €â €â¢¸â ‡â¢â£‚â£ â¡´â ¶â£®â¢¡â£¿â¢ƒâ¡Ÿâ¡˜â£¿â£¿â¢¸â£·â¡€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¯â¢€â¡â¡¾â¢ â£¿â£¶â â£¦â¢€â ˆâ ‰â¡™â¢»â¡â£¾â¡â£¼â ‡â¢³â£¿â¡‡â£¼â¡¿â¡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â ˆâ¡‡â¡‡â¡˜â¢â¡ƒâ €â¢¿â£¶â£¾â£·â£¿â£¿â£¿â¡˜â¡¸â ‡â Œâ£¾â¢â¡¼â£¿â ‡â €â¢»â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â¡€â €â¢‡â ƒâ¢¢â¡™â£œâ£¾â£¿â£¿â£¿â£¿â£¿â£¿â£§â£¦â£„â¡šâ£¡â¡¾â££â â €â €â¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£·â¡€â¡€â ƒâ ¸â£§â ˜â¢¿â£¿â£¿â£¿â£¿â£¿â£»â£¿â£¿â£¿â£¿â ƒâ ˜â â¢ˆâ£¤â¡€â£¬â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£‡â£…â €â €â ¸â €â£¦â¡™â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ¢€â£´â£¿â£¿â£¿â£·â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â¡¿â¢›â£‰â£‰â£€â¡€â €â¢¸â£¿â£¿â£·â£¬â£›â ›â¢›â£©â£µâ£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â¢‹â£´â£¿â£¿â£¿â£¿â£¿â£¦â£¬â£›â£»â ¿â¢¿â£¿â¡‡â ˆâ ™â¢›â£›â£©â£­â£­â£â¡›â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â¡‡â£¼â£¿â£¿â£¿â£¿â£¿â¡¿â¡¹â¢¿â£¿â£½â£­â£­â£­â£„â£™â »â¢¿â£¿â¡¿â£â£›â£›â¡»â¢†â ™â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â¢¥â£¿â£¿â£¿â£¿â£¿â£¿â¢‡â£´â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£·â£Œâ¢»â£¿â£¿â£¿â£¿â£¿â£·â£¶â£Œâ ›â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â¡†â£¿â£¿â£¿â£¿â£¿â¡Ÿâ£¸â£¿â£¿â£¿â£¿â£¿â£¿â£„â£¸â£¿â£¿â£¿â£¿â£¦â¢»â£¿â£¿â£¿â£¿â£¿â£¿â£¿â â Šâ »â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â ¸â£¿â£¿â£¿â£¿â¡‡â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¿â €â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£„â¢»â£¿â£¿â£¿â£¿â¡¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â Ÿâ ¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â ˆâ£¿â£¿â£¿â£¿â£·â¢™â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â£Ÿâ£©â£´â£·â£Œâ »â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£†â¢»â£¿â£¿â£¿â£¿â¡‡â£·â£¶â£­â£­â£­â£µâ£¶â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£·â£Œâ ¹â¢¿â£¿â¡¿â¢‹â£ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â¡šâ£¿â£¿â£¿â£¿â¡‡â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¯â¢€â£¤â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â¡‡â¢»â£¿â£¿â£¿â¡‡â ˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â£¿â ˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£·â ˆâ£¿â£¿â£¿â£¿â¢†â €â¢‹â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â£¿â£¿â£¥â¡˜â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â €â£»â£¿â£¿â£¿â €â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£Žâ »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£’â£»â£¿â£¿â¢â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£„â¢»â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£‡â¢¹â£¿â¡â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£Ÿâ£¿â£¿â£¿â£¿â£¿â£·â£¬â¡»â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡„â »â¢±â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£â¢Žâ¢»â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£·â¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â£¿â£¿â£¾â£¦â¢»â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡‡â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ£¼â£¿â£¿â£¿â£¿â£†â¢»â£¿
â£¿â£¿â£¿â£¿â¡¿â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£®â¡™â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ£°â£¿â£¿â£¿â£¿â£¿â£¿â£†â£¿
â£¿â£¿â£¿â£¿â¡‡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ž
â£¿â£¿â£¿â£¿â¡‡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£â¢¿â£¿â¡†â¢¿â£¿â¡¿â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡‡
â£¿â£¿â£¿â£¿â¡‡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£†â¢»â£¿â¢¸â£¿â¡‡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·
â£¿â£¿â£¿â£¿â£§â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â¢¹â ¸â â£°â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡Œâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡†â¢°â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£·â¡˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Œâ¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿`);

// Create readline interface for user input
const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

// Function to get phone number from user
function getPhoneNumber() {
    return new Promise((resolve) => {
        rl.question('ðŸ“± Masukkan nomor WhatsApp untuk dijadikan sender bot (contoh: 6281234567890): ', (number) => {
            // Clean the number
            let cleanNumber = number.replace(/\D/g, '');
            
            // Add 62 prefix if starts with 8
            if (cleanNumber.startsWith('8')) {
                cleanNumber = '62' + cleanNumber;
            }
            
            // Validate number
            if (cleanNumber.startsWith('62') && cleanNumber.length >= 10 && cleanNumber.length <= 15) {
                resolve(cleanNumber);
                rl.close();
            } else {
                console.log('âŒ Format nomor tidak valid! Harus diawali 62 (contoh: 6281234567890)');
                getPhoneNumber().then(resolve);
            }
        });
    });
}

// Main function
async function startBot() {
    try {
        console.log('\nðŸš€ Starting XIS CORE SYSTEMS...\n');
        
        // Get phone number from user
        const phoneNumber = await getPhoneNumber();
        
        console.log(`\nðŸ“± Menggunakan nomor: ${phoneNumber}`);
        console.log('ðŸ”„ Memulai proses pairing...\n');
        
        // Initialize bot with phone number
        await initialize(phoneNumber);
        
    } catch (error) {
        console.log('âŒ Error:', error);
        process.exit(1);
    }
}

// Start the bot
startBot();

// Handle process events
process.on('uncaughtException', (error) => {
    console.log('[UNCAUGHT EXCEPTION]', error);
});

process.on('unhandledRejection', (error) => {
    console.log('[UNHANDLED REJECTION]', error);
});

process.on('SIGINT', () => {
    console.log('\nðŸ›‘ Shutting down XIS CORE SYSTEMS...');
    process.exit(0);
});